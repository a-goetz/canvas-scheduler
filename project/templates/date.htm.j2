{% extends 'base.htm.j2' %}
{% block content %}

<script type="text/javascript">
	traceJSON({{ course_obj|tojson }});
</script>

<h1>Select when you want your first {{ selection }} to start.</h1>

<form action="{{ url_for('assign_dates', _external=True) }}" id="select_start" method="POST">

	<!-- THESE INPUTS ARE NOT SUPPORTED BY MOZILLA -->
	{% if course_obj.formatted_start and course_obj.formatted_end %}
	<label>
		Due Date: <input 
			type="date"
			name="date_select"
			id="date_select"
			min="{{ course_obj.formatted_start }}"
			max="{{ course_obj.formatted_end }}"
			required>
	</label>
	{% endif %}
	<label>
		Due Time: <input type="time" name="time_select" id="time_select" value="23:59" required>
	</label>
	<label>
		Repetitions: <input type="number" name="repetitions" id="repetitions" min="0" max="{{ list_length - 1 }}" value="{{ list_length - 1 }}" id="repetitions" required>
	</label>
	<input type="submit" value="Submit" />
</form>

<h2>Course Information</h2>
<div id="date_course_info"></div>

{% if course_obj.course_start_at %}
<p>Course Start: {{ course_obj.formatted_start }}</p>
{% endif %}

{% if course_obj.course_end_at %}
<p>Course End: {{ course_obj.formatted_end }}</p>
{% endif %}

<h2>{{ list_length }} {{ assignment_type.title() }} in your course:</h2>

<ul>
{% for item in item_list %}
	{% if assignment_type == 'assignments' %}
	<li>{{ item.name }}</li>
	{% else %}
	<li>{{ item.title }}</li>
	{% endif %}

{% endfor %}
</ul>

{% endblock content %}